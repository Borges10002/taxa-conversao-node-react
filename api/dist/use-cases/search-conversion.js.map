{"version":3,"sources":["../../src/use-cases/search-conversion.ts"],"sourcesContent":["import { ConversionRepository } from \"@/repositories/conversion-repository\";\n\ninterface Request {\n  channel: string;\n  endDate: string;\n  startDate: string;\n  status: string;\n}\n\ninterface SearchConversioUseCaseResponse {\n  conversion: any[];\n}\n\nexport class SearchConversionUseCase {\n  constructor(private conversionRepository: ConversionRepository) {}\n\n  async execute(params: Request): Promise<SearchConversioUseCaseResponse> {\n    const result =\n      await this.conversionRepository.getConversionRateOverTime(params);\n\n    const conversion = result.map((row) => ({\n      channel: row.channel,\n      date: row.date,\n      total_sent: Number(row.total_sent),\n      total_viewed: Number(row.total_viewed),\n      conversion_rate: Number(row.conversion_rate),\n    }));\n\n    return {\n      conversion,\n    };\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAaO,IAAM,0BAAN,MAA8B;AAAA,EACnC,YAAoB,sBAA4C;AAA5C;AAAA,EAA6C;AAAA,EAEjE,MAAM,QAAQ,QAA0D;AACtE,UAAM,SACJ,MAAM,KAAK,qBAAqB,0BAA0B,MAAM;AAElE,UAAM,aAAa,OAAO,IAAI,CAAC,SAAS;AAAA,MACtC,SAAS,IAAI;AAAA,MACb,MAAM,IAAI;AAAA,MACV,YAAY,OAAO,IAAI,UAAU;AAAA,MACjC,cAAc,OAAO,IAAI,YAAY;AAAA,MACrC,iBAAiB,OAAO,IAAI,eAAe;AAAA,IAC7C,EAAE;AAEF,WAAO;AAAA,MACL;AAAA,IACF;AAAA,EACF;AACF;","names":[]}